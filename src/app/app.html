@if (auth.isAuthenticated()) {
  <div class="flex min-h-screen bg-zinc-950">

    <!-- Mobile overlay (shown when sidebar is open on small screens) -->
    @if (layout.navOpen()) {
      <div class="sidebar-overlay" (click)="layout.close()"></div>
    }

    <!-- Sidebar (fixed drawer on mobile, always visible on desktop) -->
    <app-sidebar />

    <!-- Page content -->
    <div class="content-wrapper">

      <!-- Mobile top bar -->
      <header class="mobile-topbar">
        <button
          (click)="layout.toggle()"
          style="background:none;border:none;cursor:pointer;padding:8px;border-radius:8px;
                 color:rgba(255,255,255,0.7);display:flex;align-items:center;transition:color .2s;"
          onmouseover="this.style.color='#fff'"
          onmouseout="this.style.color='rgba(255,255,255,0.7)'">
          <mat-icon>menu</mat-icon>
        </button>

        <span style="font-family:'Playfair Display',serif;font-size:1rem;font-weight:700;color:#fff;">
          Finance Tracker
        </span>

        <!-- Spacer to keep title centred -->
        <div style="width:40px;"></div>
      </header>

      <main class="main-content">
        <router-outlet />
      </main>
    </div>

  </div>
} @else {
  <router-outlet />
}

<app-toast />
