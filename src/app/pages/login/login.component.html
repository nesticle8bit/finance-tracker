<div class="login-page">
  <div class="login-glow"></div>

  <div class="card login-card">
    <!-- Logo -->
    <div class="login-logo">
      <div class="login-logo-icon">
        <mat-icon>trending_up</mat-icon>
      </div>
      <span class="login-logo-text">Finance Tracker</span>
    </div>

    <h1 class="login-title">Iniciar sesión</h1>
    <p class="login-subtitle">Accede a tu cuenta para continuar</p>

    <!-- Error banner -->
    @if (error()) {
      <div class="login-error">
        <mat-icon>error_outline</mat-icon>
        {{ error() }}
      </div>
    }

    <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
      <!-- Email -->
      <div class="form-group">
        <label class="form-label">Correo electrónico</label>
        <input
          class="input-field"
          type="email"
          formControlName="email"
          placeholder="tu@correo.com"
          autocomplete="email"
        />
        @if (form.get('email')?.invalid && form.get('email')?.touched) {
          <p class="form-error">Ingresa un correo válido</p>
        }
      </div>

      <!-- Password -->
      <div class="form-group">
        <label class="form-label">Contraseña</label>
        <input
          class="input-field"
          type="password"
          formControlName="password"
          placeholder="••••••••"
          autocomplete="current-password"
        />
        @if (form.get('password')?.invalid && form.get('password')?.touched) {
          <p class="form-error">Mínimo 6 caracteres</p>
        }
      </div>

      <button type="submit" class="btn-primary login-submit" [disabled]="loading()">
        @if (loading()) {
          <mat-icon class="spin">sync</mat-icon>
          Verificando...
        } @else {
          <mat-icon>login</mat-icon>
          Entrar
        }
      </button>
    </form>
  </div>
</div>
